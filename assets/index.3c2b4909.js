import{r as $,p as j,g as P,o as H,d as _,w as G,a as w,c as A,k as B,b as E,e as x,u as S,i as J,f as D,n as N,h as Q,j as W,l as L,m as c,t as X,q as K,s as Y}from"./vendor.1bac66eb.js";const Z=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}};Z();var ee="/assets/logo.9cd6f5e5.svg";const R=()=>{const i=$(""),n=t=>{i.value=t;const e=j.deflate(t),o=P.fromUint8Array(e,!0);window.history.replaceState(null,"",`#${o}`)},s=()=>{try{const t=window.location.hash.replace(/^#/,"").trim(),e=P.toUint8Array(t);return j.inflate(e,{to:"string"})}catch{return""}};return H(()=>{i.value=s()}),{state:i,commit:n}},te=["value","placeholder","readonly"],M=_({props:{value:null,scrollPosition:null,readOnly:{type:Boolean,default:!1},placeholder:null},emits:["update:scrollPosition","update:value"],setup(i,{emit:n}){const s=i,t=$(),e=()=>new Promise(r=>requestAnimationFrame(()=>r())),o=r=>{const u=/^ +/.exec(r);return(u==null?void 0:u[0].length)||0},l=r=>{r.target instanceof HTMLTextAreaElement&&n("update:scrollPosition",r.target.scrollTop)},a=r=>{r.target instanceof HTMLTextAreaElement&&n("update:value",r.target.value)},m=async r=>{const{target:u}=r;if(s.readOnly||!(u instanceof HTMLTextAreaElement))return;const{value:v}=u;let{selectionStart:b,selectionEnd:k}=u;const T=v.substring(0,b).split(`
`).length-1,F=v.substring(0,k).split(`
`).length-1;if(B.isEventKey(r,"tab")){r.preventDefault();const g=v.split(`
`).map((d,f)=>{if(f<T||f>F)return d;const h=/^ +/.exec(d),p=((h==null?void 0:h[0].length)||0)%2?1:2;return r.shiftKey?h?(b-=f===T?p:0,k-=p,d.substring(p)):d:(b+=f===T?p:0,k+=p,[" ".repeat(p),d].join(""))});n("update:value",g.join(`
`)),await e(),u.setSelectionRange(b,k);return}if(B.isEventKey(r,"enter")){if(await e(),!t.value)return;const{value:g}=t.value;let{selectionStart:d,selectionEnd:f}=t.value;if(d!==f)return;const h=o(g.split(`
`)[T]),p=g.substring(0,d).split(`
`).length-1,C=o(g.split(`
`)[p]),y=h-C;if(y===0)return;const V=g.split(`
`).map((I,q)=>q!==p?I:y>0?[" ".repeat(y),I].join(""):I.substring(y));n("update:value",V.join(`
`)),await e(),t.value.setSelectionRange(d+y+C,f+y+C);return}};return G(()=>s.scrollPosition,r=>{t.value&&t.value.scrollTop!==r&&t.value.scrollTo({top:r})},{immediate:!0}),(r,u)=>(w(),A("textarea",{ref_key:"textarea",ref:t,value:s.value,class:"resize-none scroll-p-8 overflow-scroll py-5 px-8 font-mono text-sm leading-relaxed text-black outline-none",wrap:"off",spellcheck:"false",placeholder:s.placeholder,readonly:s.readOnly,onScroll:l,onInput:a,onKeydown:m},null,40,te))}}),O=i=>{var n;return Math.floor((((n=/^ +/.exec(i))==null?void 0:n[0].length)||0)/2)},z=i=>{const n=i.split(/\n|\r\n/);return n.map((s,t)=>{const e=s.replace(/^(?: |\t)+/,""),o=O(s);let l="";for(let a=1;a<=o;a++){let m=1/0;for(let r=t+1;r<n.length;r++){const u=n[r],v=O(u);if(v<a)break;m=Math.min(m,v)}a===o&&!/^#/.test(e)?l+=m<=a?"\u251C\u2500\u2500 ":"\u2514\u2500\u2500 ":l+=m<=a?"\u2502   ":"    "}return`${l}${e}`}).join(`
`)},oe={class:"grid min-h-full grid-rows-2 gap-2 overflow-y-auto text-white md:grid-cols-2 md:grid-rows-1"},ne=_({setup(i){const n=R(),s=$(0),t=E({get(){return n.state.value},set(o){n.commit(o)}}),e=E(()=>z(t.value));return(o,l)=>(w(),A("div",oe,[x(M,{value:S(t),"onUpdate:value":l[0]||(l[0]=a=>J(t)?t.value=a:null),"scroll-position":s.value,"onUpdate:scroll-position":l[1]||(l[1]=a=>s.value=a)},null,8,["value","scroll-position"]),x(M,{value:S(e),"scroll-position":s.value,"onUpdate:scroll-position":l[2]||(l[2]=a=>s.value=a),"read-only":""},null,8,["value","scroll-position"])]))}}),se=_({props:{active:{type:Boolean,default:!1}},emits:["click"],setup(i,{emit:n}){const s=i;return(t,e)=>(w(),A("button",{class:N(["rounded-md border border-stone-400 px-2 py-1 font-mono text-xs text-stone-400 transition hover:border-stone-100 hover:text-stone-100",{"border-stone-100 text-stone-100":s.active}]),onClick:e[0]||(e[0]=Q(o=>n("click"),["prevent"]))},[D(t.$slots,"default")],2))}}),re={class:"relative block"},U=_({props:{data:null},setup(i){const n=i,s=$(!1);let t=-1;const e=async()=>{window.clearTimeout(t),await navigator.clipboard.writeText(n.data),s.value=!0,t=window.setTimeout(()=>{s.value=!1},1500)};return(o,l)=>(w(),W(se,{active:s.value,onClick:e},{default:L(()=>[c("span",re,[c("span",{class:N(["absolute inset-1/2 block h-full w-full -translate-x-1/2 -translate-y-1/2 bg-stone-900 opacity-0 transition",{"opacity-100":s.value}])}," Copied! ",2),D(o.$slots,"default")])]),_:3},8,["active"]))}}),le={class:"flex h-full w-full flex-col overflow-hidden bg-stone-900 px-4 md:px-6"},ae={class:"flex h-16 flex-shrink-0 items-center space-x-3 md:px-2"},ie=c("img",{class:"mr-auto h-5",src:ee,alt:"DirectoryTree Editor"},null,-1),ce=K("Copy URL"),ue=K("Copy DirectoryTree"),de={class:"flex-grow"},pe=c("div",{class:"grid h-full grid-rows-2 gap-1 md:grid-cols-2 md:grid-rows-1"},null,-1),fe=c("span",{class:"font-mono text-[10px]"},[c("span",{class:"mr-1 inline-block text-gray-400"},"by"),c("a",{class:"text-gray-300 hover:text-gray-100",href:"https://twitter.com/lollipop_onl",target:"_blank"},"@lollipop_onl ")],-1),me=c("p",{class:"mt-1 text-center text-[10px] text-stone-400 md:absolute md:top-1/2 md:left-1/2 md:mt-0 md:-translate-x-1/2 md:-translate-y-1/2"}," \u3053\u306E\u30B5\u30A4\u30C8\u3067\u306F\u6539\u5584\u306E\u305F\u3081 Google Analytics \u3092\u5C0E\u5165\u3057\u3066\u3044\u307E\u3059 ",-1),ve=_({setup(i){const n="v2.0.0",s=R(),t=E(()=>{const{origin:o,hash:l}=window.location,a=new URL("/",o);return a.hash=l,a.toString()}),e=E(()=>z(s.state.value.split(`
`).filter(o=>o.trim()).join(`
`)));return(o,l)=>(w(),A("div",le,[c("header",ae,[ie,x(U,{data:S(t)},{default:L(()=>[ce]),_:1},8,["data"]),x(U,{data:S(e)},{default:L(()=>[ue]),_:1},8,["data"])]),c("main",de,[x(ne),pe]),c("footer",{class:"relative flex-shrink-0 p-2 leading-none"},[c("div",{class:"flex items-center justify-between"},[fe,c("a",{class:"font-mono text-xs text-gray-400 hover:text-gray-100",href:"https://github.com/lollipop-onl/directory-tree-editor",target:"_blank"},X(n))]),me])]))}});Y(ve).mount("#root");
